"use strict";(self["webpackChunkvue_cloudmusic"]=self["webpackChunkvue_cloudmusic"]||[]).push([[625],{1076:function(t,e,s){s.d(e,{Z:function(){return l}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"btn-wrap btn btn-red"},[s("span",{staticClass:"btn-content"},[s("svg",{staticClass:"icon icon-play",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-play"}})]),t._v(" 播放全部 ")])])},_=[],i=(s(1539),s(4747),{props:{},methods:{PlayFirstSong:function(t){this.common.playMusic(t[0]),t.forEach((function(t,e){t.index=e})),this.$store.commit("setPlaylist",t)}}}),r=i,n=s(1001),c=(0,n.Z)(r,a,_,!1,null,"88fe05b0",null),l=c.exports},4576:function(t,e,s){s.d(e,{Z:function(){return l}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gender-wrap inline-block"},[1===t.gender?s("i",{staticClass:"el-icon-male"}):t._e(),2===t.gender?s("i",{staticClass:"el-icon-female"}):t._e()])},_=[],i=(s(9653),{props:{gender:{type:[Number,String],require:!0}}}),r=i,n=s(1001),c=(0,n.Z)(r,a,_,!1,null,"0cd8df1c",null),l=c.exports},7046:function(t,e,s){s.d(e,{Z:function(){return d}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"subscribers-wrap"},[0!==t.subscribers.length?s("div",{staticClass:"subscribers-box"},t._l(t.subscribers,(function(e,a){return s("div",{key:a,staticClass:"subscribers-content pointer",on:{click:function(s){return t.common.toUser(e.userId)}}},[s("img",{staticClass:"rounded-50 border-line",attrs:{src:e.avatarUrl,alt:""}}),s("div",{staticClass:"info-wrap ml-10"},[s("span",{staticClass:"nickname"},[t._v(" "+t._s(e.nickname)),s("Gender",{attrs:{gender:e.gender}})],1),s("span",{staticClass:"block mt-10 hidden-1 font-12 block",staticStyle:{width:"150px"}},[t._v(t._s(e.signature))])])])})),0):s("div",{staticClass:"deeper-gray default",staticStyle:{margin:"40px auto"}},[t._v(" 暂无收藏者 ")])])},_=[],i=s(6198),r=(s(8975),s(9653),s(9261)),n=s(1546),c=s(4576),l={props:{type:{type:String,require:!0},id:{type:[Number,String],require:!0}},components:{Gender:c.Z},data:function(){return{subscribers:[]}},watch:{id:function(){this.getSubscribers()}},created:function(){this.getSubscribers()},methods:{getSubscribers:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("dj"!==t.type){e.next=7;break}return e.next=3,(0,n.Xc)(t.id);case 3:s=e.sent,t.subscribers=s.subscribers,e.next=12;break;case 7:if("playlist"!==t.type){e.next=12;break}return e.next=10,(0,r.FP)(t.id);case 10:a=e.sent,t.subscribers=a.subscribers;case 12:case"end":return e.stop()}}),e)})))()}}},o=l,u=s(1001),p=(0,u.Z)(o,a,_,!1,null,"6d153829",null),d=p.exports},6220:function(t,e,s){s.r(e),s.d(e,{default:function(){return P}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"playlist-wrap"},[s("header",[s("img",{staticClass:"rounded-5 border-line",staticStyle:{width:"180px",height:"180px"},attrs:{src:t.playListInfo.coverImgUrl,alt:""}}),s("div",{staticClass:"ml-20",staticStyle:{width:"calc(100% - 200px)"}},[s("div",{staticClass:"align-center"},[s("Label",{staticClass:"mr-10 default",attrs:{large:!0}},[t._v("歌单")]),s("span",{staticClass:"font-23 bold hidden-1"},[t._v(t._s(t.playListInfo.name))])],1),s("div",{staticClass:"align-center mt-5",on:{click:function(e){return t.common.toUser(t.playListInfo.creator.userId)}}},[s("img",{staticClass:"rounded-50 mr-10",staticStyle:{width:"25px"},attrs:{src:t.playListInfo.creator.avatarUrl,alt:""}}),s("span",{staticClass:"deep-link mr-10"},[t._v(t._s(t.playListInfo.creator.nickname))]),s("span",{staticClass:"deeper-gray default font-12"},[t._v(t._s(t._f("dateFormat")(t.playListInfo.createTime))+" 创建")])]),s("div",{staticClass:"my-10 align-center"},[s("Play-Button",{ref:"playBtnRef",staticClass:"mr-20",nativeOn:{click:function(e){return t.PlayAllSongs.apply(null,arguments)}}}),s("Collect-Button",{attrs:{subCount:t.playListInfo.subscribedCount,id:t.id,type:"playlist"}})],1),s("div",{staticClass:"tags-box"},[0!==t.tags.length?s("span",{staticStyle:{display:"block"}},[t._v("标签 : "),t._l(t.tags,(function(e,a){return s("span",{key:a,staticClass:"artist-list"},[s("span",{staticClass:"pointer deep-gray link",on:{click:function(s){return t.toPlaylist(e)}}},[t._v(t._s(e))])])}))],2):t._e(),s("div",{staticClass:"my-10"},[s("span",[t._v("歌曲 :"),s("span",{staticClass:"deeper-gray"},[t._v(" "+t._s(t.length))])]),s("span",{staticClass:"ml-20"},[t._v("播放 : "),s("span",{staticClass:"deeper-gray"},[t._v(t._s(t._f("playCountFormat")(t.playListInfo.playCount)))])])]),!t.playListInfo.description?t._e():s("div",{staticClass:"hidden-2"},[t._v(" 简介 : "),s("span",{staticClass:"deeper-gray"},[t._v(t._s(t.playListInfo.description))])])])])]),s("footer",{staticClass:"position"},[s("div",{staticClass:"tab-wrap"},[s("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"歌曲列表",name:"playlist"}},[s("Music-List",{attrs:{songs:t.playlists}})],1),s("el-tab-pane",{attrs:{label:"评论("+t.commentCount+")",name:"comment"}},[s("Comment",{staticStyle:{padding:"0 30px"},attrs:{id:t.id,type:2},on:{getCommentCount:t.getCommentCount}})],1),s("el-tab-pane",{attrs:{label:"收藏者",name:"subUser"}},[s("Subscribers",{staticStyle:{padding:"0 30px"},attrs:{id:t.id,type:"playlist"}})],1)],1)],1),s("Search-list",{directives:[{name:"show",rawName:"v-show",value:"playlist"===t.activeName,expression:"activeName === 'playlist'"}],staticClass:"search-list",attrs:{lists:t.playlists},on:{getNewLists:t.getNewLists,initLists:t.initLists}})],1)])},_=[],i=s(6198),r=s(4367),n=(s(8975),s(1539),s(4747),s(6699),s(2023),s(4665)),c=s(9261),l=s(7046),o=s(1076),u=s(7233),p=s(9033),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"searchList-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput,expression:"searchInput",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜索歌单音乐"},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.isShow?s("svg",{staticClass:"icon icon-search",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-search"}})]):s("svg",{staticClass:"icon icon-close",attrs:{"aria-hidden":"true"},on:{click:function(e){t.searchInput=""}}},[s("use",{attrs:{"xlink:href":"#icon-close-bold"}})])])},m=[],f=s(3902),h=f.Z,y=s(1001),b=(0,y.Z)(h,d,m,!1,null,"17d74645",null),g=b.exports,C={inject:["reload"],components:{Subscribers:l.Z,PlayButton:o.Z,MusicList:u.Z,Label:p.Z,SearchList:g},data:function(){return{activeName:"playlist",playListInfo:{creator:{}},playlists:[],subPlaylists:[],subCount:"",tags:[],id:this.$route.params.id,length:0,commentCount:0}},computed:(0,r.Z)({},(0,n.rn)(["likeIds","isLogin"])),watch:{$route:function(){this.id=this.$route.params.id,this.getPlaylistDetail(),this.getPlaylists(),this.activeName="playlist"},likeIds:function(){var t=this;this.playlists.forEach((function(e){e.like=t.likeIds.includes(e.id)}))},isLogin:function(t){1==t&&this.getPlaylists()}},created:function(){this.getPlaylistDetail(),this.getPlaylists()},methods:(0,r.Z)((0,r.Z)({},(0,n.OI)(["upDataLikeState"])),{},{getPlaylistDetail:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,c._V)(t.id);case 2:s=e.sent,t.playListInfo=s.playlist,t.tags=s.playlist.tags;case 5:case"end":return e.stop()}}),e)})))()},getPlaylists:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,c.$F)(t.id);case 2:s=e.sent,s.songs.forEach((function(e){e.like=t.likeIds.includes(e.id)})),t.playlists=s.songs,t.subPlaylists=s.songs,t.length=s.songs.length;case 7:case"end":return e.stop()}}),e)})))()},getNewLists:function(t){this.playlists=t},initLists:function(){this.playlists=this.subPlaylists},PlayAllSongs:function(){this.$refs.playBtnRef.PlayFirstSong(this.playlists)},toPlaylist:function(t){this.$router.push({path:"/discovery",query:{tag:t}})},getCommentCount:function(t){this.commentCount=t}})},v=C,E=(0,y.Z)(v,a,_,!1,null,"15d49678",null),P=E.exports},3902:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4916),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7601),core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7327),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1539),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2222),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8309),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9600),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1249),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_7__);__webpack_exports__["Z"]={props:{lists:{type:Array,require:!0,default:function(){return[{}]}}},data:function(){return{searchInput:"",isShow:!0,initLists:[]}},created:function(){},watch:{lists:function(t){this.initLists=t},searchInput:function searchInput(){if(""===this.searchInput)this.isShow=!0,this.$emit("initLists");else{this.isShow=!1;var reg1=/[^0-9a-zA-Z\u4e00-\u9fa5]/;if(reg1.test(this.searchInput))return this.searchInput="";var reg=eval("/"+this.searchInput+"/i"),newLists=this.initLists.filter((function(t){var e="".concat(t.name).concat(0!==t.alia.length?t.alia[0]:"").concat(t.tns?t.tns[0]:"").concat(t.ar.map((function(t){return t.name})).join("")).concat(t.al.name);if(reg.test(e))return t}));this.$emit("getNewLists",newLists)}}}}}}]);
//# sourceMappingURL=625-legacy.286db1fc.js.map