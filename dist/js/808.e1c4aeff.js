"use strict";(self["webpackChunkvue_cloudmusic"]=self["webpackChunkvue_cloudmusic"]||[]).push([[808],{1076:function(t,s,e){e.d(s,{Z:function(){return o}});var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"btn-wrap btn btn-red"},[e("span",{staticClass:"btn-content"},[e("svg",{staticClass:"icon icon-play",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-play"}})]),t._v(" 播放全部 ")])])},i=[],r={props:{},methods:{PlayFirstSong(t){this.common.playMusic(t[0]),t.forEach(((t,s)=>{t.index=s})),this.$store.commit("setPlaylist",t)}}},n=r,l=e(1001),c=(0,l.Z)(n,a,i,!1,null,"88fe05b0",null),o=c.exports},4576:function(t,s,e){e.d(s,{Z:function(){return o}});var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"gender-wrap inline-block"},[1===t.gender?e("i",{staticClass:"el-icon-male"}):t._e(),2===t.gender?e("i",{staticClass:"el-icon-female"}):t._e()])},i=[],r={props:{gender:{type:[Number,String],require:!0}}},n=r,l=e(1001),c=(0,l.Z)(n,a,i,!1,null,"0cd8df1c",null),o=c.exports},9033:function(t,s,e){e.d(s,{Z:function(){return o}});var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{class:{label:!0,large:t.large,small:t.small},style:{color:t.color}},[t._t("default")],2)},i=[],r={props:{large:{type:Boolean,default:!1},small:{type:Boolean,default:!1},color:{type:String,default:"#ec4141"}}},n=r,l=e(1001),c=(0,l.Z)(n,a,i,!1,null,"8903a476",null),o=c.exports},7046:function(t,s,e){e.d(s,{Z:function(){return p}});var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"subscribers-wrap"},[0!==t.subscribers.length?e("div",{staticClass:"subscribers-box"},t._l(t.subscribers,(function(s,a){return e("div",{key:a,staticClass:"subscribers-content pointer",on:{click:function(e){return t.common.toUser(s.userId)}}},[e("img",{staticClass:"rounded-50 border-line",attrs:{src:s.avatarUrl,alt:""}}),e("div",{staticClass:"info-wrap ml-10"},[e("span",{staticClass:"nickname"},[t._v(" "+t._s(s.nickname)),e("Gender",{attrs:{gender:s.gender}})],1),e("span",{staticClass:"block mt-10 hidden-1 font-12 block",staticStyle:{width:"150px"}},[t._v(t._s(s.signature))])])])})),0):e("div",{staticClass:"deeper-gray default",staticStyle:{margin:"40px auto"}},[t._v(" 暂无收藏者 ")])])},i=[],r=e(9261),n=e(1546),l=e(4576),c={props:{type:{type:String,require:!0},id:{type:[Number,String],require:!0}},components:{Gender:l.Z},data(){return{subscribers:[]}},watch:{id(){this.getSubscribers()}},created(){this.getSubscribers()},methods:{async getSubscribers(){if("dj"===this.type){const t=await(0,n.Xc)(this.id);this.subscribers=t.subscribers}else if("playlist"===this.type){const t=await(0,r.FP)(this.id);this.subscribers=t.subscribers}}}},o=c,u=e(1001),d=(0,u.Z)(o,a,i,!1,null,"6d153829",null),p=d.exports},9808:function(t,s,e){e.r(s),e.d(s,{default:function(){return f}});var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"dj-wrap"},[e("header",[t.djInfo.picUrl?e("img",{staticClass:"rounded-5 border-line",staticStyle:{width:"185px",height:"185px"},attrs:{src:t.djInfo.picUrl,alt:""}}):t._e(),e("div",{staticClass:"ml-20"},[e("div",{staticClass:"align-center"},[e("Label",{staticClass:"mr-10 default",attrs:{large:!0}},[t._v("电台")]),e("span",{staticClass:"font-23 bold"},[t._v(t._s(t.djInfo.name))])],1),e("div",{staticClass:"align-center mt-10"},[e("img",{staticClass:"rounded-50 mr-10",staticStyle:{width:"22px"},attrs:{src:t.djInfo.dj.avatarUrl,alt:""},on:{click:function(s){return t.common.toUser(t.djInfo.dj.userId)}}}),e("span",{staticClass:"deep-link mr-10",on:{click:function(s){return t.common.toUser(t.djInfo.dj.userId)}}},[t._v(t._s(t.djInfo.dj.nickname))])]),e("div",{staticClass:"my-10 align-center"},[e("Play-Button",{ref:"playBtnRef",staticClass:"mr-20",nativeOn:{click:function(s){return t.PlayAllSongs.apply(null,arguments)}}}),e("Collect-Button",{attrs:{subCount:t.djInfo.subCount,id:t.djQuery.rid,type:"dj"}})],1),t.djInfo.desc?e("div",{staticClass:"mt-20 hidden-1",staticStyle:{width:"800px"}},[t._v(" "+t._s(t.djInfo.desc)+" ")]):t._e()])]),e("div",{staticClass:"tab-wrap"},[e("el-tabs",{model:{value:t.activeName,callback:function(s){t.activeName=s},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"节目("+t.count+")",name:"program"}},[e("div",{staticClass:"sort-box"},[e("span",[t._v("共"+t._s(t.count)+"期")]),e("span",{staticClass:"sort-wrap"},[e("span",{staticClass:"gray mr-10 default"},[t._v("排序")]),e("div",{staticClass:"sort-content"},[e("div",{class:{sort:!0,selected:!t.djQuery.asc},on:{click:t.descList}},[e("svg",{staticClass:"icon",staticStyle:{"font-size":"10px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-sort-desc"}})])]),e("div",{class:{sort:!0,selected:t.djQuery.asc},on:{click:t.ascList}},[e("svg",{staticClass:"icon",staticStyle:{"font-size":"10px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-sort-asc"}})])])])])]),e("el-table",{attrs:{width:"100%",data:t.djLists,stripe:"","show-header":!1,"row-style":t.rowStyle},on:{"row-dblclick":t.playMusic}},[e("el-table-column",{attrs:{"min-width":"50"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"gray flex-center font-12"},[t._v(t._s(s.row.serialNum)+" ")])]}}])}),e("el-table-column",{attrs:{width:"80"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"pointer",on:{click:function(e){return t.playMusic(s.row)}}},[e("img",{staticClass:"rounded-5 block",staticStyle:{width:"60px",height:"60px"},attrs:{src:s.row.al.picUrl,alt:""}}),e("span",{staticClass:"play-svg"},[e("svg",{staticClass:"icon icon-play",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-play"}})])])])]}}])}),e("el-table-column",{attrs:{prop:"name","min-width":"400"}}),e("el-table-column",{attrs:{"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"gray align-center font-12"},[e("svg",{staticClass:"icon position",staticStyle:{bottom:"1.5px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-play2"}})]),e("span",{staticClass:"ml-3"},[t._v(t._s(t._f("playCountFormat")(s.row.listenerCount)))])])]}}])}),e("el-table-column",{attrs:{"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"gray font-12"},[e("svg",{staticClass:"icon position",staticStyle:{"font-size":"10px",top:"1px"},attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-dianzan2"}})]),e("span",{staticClass:"ml-3"},[t._v(t._s(s.row.likedCount))])])]}}])}),e("el-table-column",{attrs:{"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"gray font-12"},[t._v(t._s(t._f("dateFormat")(s.row.createTime)))])]}}])}),e("el-table-column",{attrs:{"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"gray font-12"},[t._v(t._s(t._f("timeFormat")(s.row.duration)))])]}}])})],1)],1),e("el-tab-pane",{attrs:{label:"订阅者",name:"subUser"}},[e("Subscribers",{staticStyle:{padding:"0 30px"},attrs:{id:794458417,type:"dj"}})],1)],1),e("div",{staticClass:"flex-center mt-10"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.count,"page-size":t.djQuery.limit,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange}})],1)],1)])},i=[],r=e(1546),n=e(9033),l=e(7046),c=e(1076),o={components:{Label:n.Z,Subscribers:l.Z,PlayButton:c.Z},data(){return{activeName:"program",djInfo:{dj:[]},djLists:[],subCount:"",currentPage:1,djQuery:{rid:this.$route.params.id,limit:50,offset:0,asc:!1},count:null}},watch:{$route(){this.djQuery.rid=this.$route.params.id,this.getDjDetail(),this.getDjLists()}},computed:{},created(){this.$store.commit("setIsProgram",!0),this.getDjDetail(),this.getDjLists()},methods:{async getDjDetail(){const t=await(0,r.FJ)(this.djQuery.rid);this.djInfo=t.data},async getDjLists(){const t=await(0,r.zl)(this.djQuery);console.log(t),this.djLists=t.programs,this.count=t.count,this.djLists.forEach(((t,s,e)=>{e[s]=this.common.programFactory(t)}))},descList(){this.djQuery.asc=!1,this.getDjLists()},ascList(){this.djQuery.asc=!0,this.getDjLists()},PlayAllSongs(){this.$refs.playBtnRef.PlayFirstSong(this.djLists)},playMusic(t){this.common.playMusic(t),this.djLists.forEach(((t,s)=>{t.index=s})),this.$store.commit("setPlaylist",this.djLists)},handleCurrentChange(t){this.currentPage=t,this.djQuery.offset=(t-1)*this.djQuery.limit,this.getDjLists(this.djQuery)},rowStyle(){return"cursor: default "}}},u=o,d=e(1001),p=(0,d.Z)(u,a,i,!1,null,"e3f80f28",null),f=p.exports}}]);
//# sourceMappingURL=808.e1c4aeff.js.map