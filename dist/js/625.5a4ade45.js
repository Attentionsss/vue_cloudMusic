"use strict";(self["webpackChunkvue_cloudmusic"]=self["webpackChunkvue_cloudmusic"]||[]).push([[625],{1076:function(t,s,i){i.d(s,{Z:function(){return o}});var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("span",{staticClass:"btn-wrap btn btn-red"},[i("span",{staticClass:"btn-content"},[i("svg",{staticClass:"icon icon-play",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-play"}})]),t._v(" 播放全部 ")])])},a=[],n={props:{},methods:{PlayFirstSong(t){this.common.playMusic(t[0]),t.forEach(((t,s)=>{t.index=s})),this.$store.commit("setPlaylist",t)}}},l=n,r=i(1001),c=(0,r.Z)(l,e,a,!1,null,"88fe05b0",null),o=c.exports},4576:function(t,s,i){i.d(s,{Z:function(){return o}});var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"gender-wrap inline-block"},[1===t.gender?i("i",{staticClass:"el-icon-male"}):t._e(),2===t.gender?i("i",{staticClass:"el-icon-female"}):t._e()])},a=[],n={props:{gender:{type:[Number,String],require:!0}}},l=n,r=i(1001),c=(0,r.Z)(l,e,a,!1,null,"0cd8df1c",null),o=c.exports},7046:function(t,s,i){i.d(s,{Z:function(){return d}});var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"subscribers-wrap"},[0!==t.subscribers.length?i("div",{staticClass:"subscribers-box"},t._l(t.subscribers,(function(s,e){return i("div",{key:e,staticClass:"subscribers-content pointer",on:{click:function(i){return t.common.toUser(s.userId)}}},[i("img",{staticClass:"rounded-50 border-line",attrs:{src:s.avatarUrl,alt:""}}),i("div",{staticClass:"info-wrap ml-10"},[i("span",{staticClass:"nickname"},[t._v(" "+t._s(s.nickname)),i("Gender",{attrs:{gender:s.gender}})],1),i("span",{staticClass:"block mt-10 hidden-1 font-12 block",staticStyle:{width:"150px"}},[t._v(t._s(s.signature))])])])})),0):i("div",{staticClass:"deeper-gray default",staticStyle:{margin:"40px auto"}},[t._v(" 暂无收藏者 ")])])},a=[],n=i(9261),l=i(1546),r=i(4576),c={props:{type:{type:String,require:!0},id:{type:[Number,String],require:!0}},components:{Gender:r.Z},data(){return{subscribers:[]}},watch:{id(){this.getSubscribers()}},created(){this.getSubscribers()},methods:{async getSubscribers(){if("dj"===this.type){const t=await(0,l.Xc)(this.id);this.subscribers=t.subscribers}else if("playlist"===this.type){const t=await(0,n.FP)(this.id);this.subscribers=t.subscribers}}}},o=c,u=i(1001),p=(0,u.Z)(o,e,a,!1,null,"6d153829",null),d=p.exports},6220:function(t,s,i){i.r(s),i.d(s,{default:function(){return _}});var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"playlist-wrap"},[i("header",[i("img",{staticClass:"rounded-5 border-line",staticStyle:{width:"180px",height:"180px"},attrs:{src:t.playListInfo.coverImgUrl,alt:""}}),i("div",{staticClass:"ml-20",staticStyle:{width:"calc(100% - 200px)"}},[i("div",{staticClass:"align-center"},[i("Label",{staticClass:"mr-10 default",attrs:{large:!0}},[t._v("歌单")]),i("span",{staticClass:"font-23 bold hidden-1"},[t._v(t._s(t.playListInfo.name))])],1),i("div",{staticClass:"align-center mt-5",on:{click:function(s){return t.common.toUser(t.playListInfo.creator.userId)}}},[i("img",{staticClass:"rounded-50 mr-10",staticStyle:{width:"25px"},attrs:{src:t.playListInfo.creator.avatarUrl,alt:""}}),i("span",{staticClass:"deep-link mr-10"},[t._v(t._s(t.playListInfo.creator.nickname))]),i("span",{staticClass:"deeper-gray default font-12"},[t._v(t._s(t._f("dateFormat")(t.playListInfo.createTime))+" 创建")])]),i("div",{staticClass:"my-10 align-center"},[i("Play-Button",{ref:"playBtnRef",staticClass:"mr-20",nativeOn:{click:function(s){return t.PlayAllSongs.apply(null,arguments)}}}),i("Collect-Button",{attrs:{subCount:t.playListInfo.subscribedCount,id:t.id,type:"playlist"}})],1),i("div",{staticClass:"tags-box"},[0!==t.tags.length?i("span",{staticStyle:{display:"block"}},[t._v("标签 : "),t._l(t.tags,(function(s,e){return i("span",{key:e,staticClass:"artist-list"},[i("span",{staticClass:"pointer deep-gray link",on:{click:function(i){return t.toPlaylist(s)}}},[t._v(t._s(s))])])}))],2):t._e(),i("div",{staticClass:"my-10"},[i("span",[t._v("歌曲 :"),i("span",{staticClass:"deeper-gray"},[t._v(" "+t._s(t.length))])]),i("span",{staticClass:"ml-20"},[t._v("播放 : "),i("span",{staticClass:"deeper-gray"},[t._v(t._s(t._f("playCountFormat")(t.playListInfo.playCount)))])])]),!t.playListInfo.description?t._e():i("div",{staticClass:"hidden-2"},[t._v(" 简介 : "),i("span",{staticClass:"deeper-gray"},[t._v(t._s(t.playListInfo.description))])])])])]),i("footer",{staticClass:"position"},[i("div",{staticClass:"tab-wrap"},[i("el-tabs",{model:{value:t.activeName,callback:function(s){t.activeName=s},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"歌曲列表",name:"playlist"}},[i("Music-List",{attrs:{songs:t.playlists}})],1),i("el-tab-pane",{attrs:{label:"评论("+t.commentCount+")",name:"comment"}},[i("Comment",{staticStyle:{padding:"0 30px"},attrs:{id:t.id,type:2},on:{getCommentCount:t.getCommentCount}})],1),i("el-tab-pane",{attrs:{label:"收藏者",name:"subUser"}},[i("Subscribers",{staticStyle:{padding:"0 30px"},attrs:{id:t.id,type:"playlist"}})],1)],1)],1),i("Search-list",{directives:[{name:"show",rawName:"v-show",value:"playlist"===t.activeName,expression:"activeName === 'playlist'"}],staticClass:"search-list",attrs:{lists:t.playlists},on:{getNewLists:t.getNewLists,initLists:t.initLists}})],1)])},a=[],n=i(4665),l=i(9261),r=i(7046),c=i(1076),o=i(7233),u=i(9033),p=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"searchList-wrap"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput,expression:"searchInput",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜索歌单音乐"},domProps:{value:t.searchInput},on:{input:function(s){s.target.composing||(t.searchInput=s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}}),t.isShow?i("svg",{staticClass:"icon icon-search",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-search"}})]):i("svg",{staticClass:"icon icon-close",attrs:{"aria-hidden":"true"},on:{click:function(s){t.searchInput=""}}},[i("use",{attrs:{"xlink:href":"#icon-close-bold"}})])])},d=[],h=i(3902),m=h.Z,y=i(1001),g=(0,y.Z)(m,p,d,!1,null,"17d74645",null),f=g.exports,b={inject:["reload"],components:{Subscribers:r.Z,PlayButton:c.Z,MusicList:o.Z,Label:u.Z,SearchList:f},data(){return{activeName:"playlist",playListInfo:{creator:{}},playlists:[],subPlaylists:[],subCount:"",tags:[],id:this.$route.params.id,length:0,commentCount:0}},computed:{...(0,n.rn)(["likeIds","isLogin"])},watch:{$route(){this.id=this.$route.params.id,this.getPlaylistDetail(),this.getPlaylists(),this.activeName="playlist"},likeIds(){this.playlists.forEach((t=>{t.like=this.likeIds.includes(t.id)}))},isLogin(t){1==t&&this.getPlaylists()}},created(){this.getPlaylistDetail(),this.getPlaylists()},methods:{...(0,n.OI)(["upDataLikeState"]),async getPlaylistDetail(){const t=await(0,l._V)(this.id);this.playListInfo=t.playlist,this.tags=t.playlist.tags},async getPlaylists(){const t=await(0,l.$F)(this.id);t.songs.forEach((t=>{t.like=this.likeIds.includes(t.id)})),this.playlists=t.songs,this.subPlaylists=t.songs,this.length=t.songs.length},getNewLists(t){this.playlists=t},initLists(){this.playlists=this.subPlaylists},PlayAllSongs(){this.$refs.playBtnRef.PlayFirstSong(this.playlists)},toPlaylist(t){this.$router.push({path:"/discovery",query:{tag:t}})},getCommentCount(t){this.commentCount=t}}},v=b,C=(0,y.Z)(v,e,a,!1,null,"15d49678",null),_=C.exports},3902:function(__unused_webpack_module,__webpack_exports__){__webpack_exports__["Z"]={props:{lists:{type:Array,require:!0,default:()=>[{}]}},data(){return{searchInput:"",isShow:!0,initLists:[]}},created(){},watch:{lists(t){this.initLists=t},searchInput(){if(""===this.searchInput)this.isShow=!0,this.$emit("initLists");else{this.isShow=!1;const reg1=/[^0-9a-zA-Z\u4e00-\u9fa5]/;if(reg1.test(this.searchInput))return this.searchInput="";const reg=eval("/"+this.searchInput+"/i");let newLists=this.initLists.filter((t=>{const s=`${t.name}${0!==t.alia.length?t.alia[0]:""}${t.tns?t.tns[0]:""}${t.ar.map((t=>t.name)).join("")}${t.al.name}`;if(reg.test(s))return t}));this.$emit("getNewLists",newLists)}}}}}}]);
//# sourceMappingURL=625.5a4ade45.js.map