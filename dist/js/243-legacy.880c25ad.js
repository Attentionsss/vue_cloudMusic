"use strict";(self["webpackChunkvue_cloudmusic"]=self["webpackChunkvue_cloudmusic"]||[]).push([[243],{4243:function(e,r,t){t.r(r),t.d(r,{default:function(){return c}});var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-container",[t("div",{staticClass:"aside"}),t("el-card",{staticClass:"box-card"},[t("el-form",{ref:"loginFormRef",attrs:{model:e.loginForm,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{model:{value:e.loginForm.phone,callback:function(r){e.$set(e.loginForm,"phone",r)},expression:"loginForm.phone"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1)],1),t("el-button",{on:{click:e.login}},[e._v("登录")])],1)],1)},o=[],s=t(6198),a=(t(8975),t(4916),t(7601),t(1703),{data:function(){var e=function(e,r,t){var n=/^1(3\d|4[5-8]|5[0-35-9]|6[567]|7[01345-8]|8\d|9[025-9])\d{8}$/;if(n.test(r))return t();t(new Error("请输入合法手机号"))},r=function(e,r,t){var n=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/;if(n.test(r))return t();t(new Error("请输入合法密码"))};return{loginForm:{phone:"",password:""},rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:e,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:r,trigger:"blur"}]}}},methods:{login:function(){var e=this;this.$refs.loginFormRef.validate(function(){var r=(0,s.Z)(regeneratorRuntime.mark((function r(t){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return",e.$message.info("请输入完整信息!"));case 2:return r.next=4,e.$http.post("/login/cellphone",e.loginForm);case 4:if(n=r.sent,o=n.data,502!==o.code){r.next=8;break}return r.abrupt("return",e.$message.error("密码错误!"));case 8:window.sessionStorage.setItem("cookie",o.cookie),e.$message.success("登陆成功!"),e.$router.push("/");case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}}}),i=a,l=t(1001),u=(0,l.Z)(i,n,o,!1,null,"b635fba0",null),c=u.exports}}]);
//# sourceMappingURL=243-legacy.880c25ad.js.map