"use strict";(self["webpackChunkvue_cloudmusic"]=self["webpackChunkvue_cloudmusic"]||[]).push([[290],{3242:function(t,e,a){a.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"video-content"},[a("div",{staticClass:"position"},[a("img",{staticClass:"rounded-5",attrs:{src:t.url,alt:""}}),0!==t.duration?a("span",{staticClass:"durations"},[t._v(t._s(t._f("timeFormat")(t.duration)))]):t._e(),a("span",{staticClass:"count"},[a("svg",{staticClass:"icon icon-right-triangle",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-triangle"}})]),t._v(t._s(t._f("playCountFormat")(t.count)))])]),a("span",{staticClass:"hidden-1 block my-5"},[t._t("default"),t._v(" "+t._s(t.name))],2),t._t("author")],2)},n=[],i=(a(9653),{props:{name:{type:String,require:!0},url:{type:String,require:!0},count:{type:[Number,String],require:!0},duration:{type:Number,default:0}},computed:{}}),s=i,o=a(1001),c=(0,o.Z)(s,r,n,!1,null,"6d30f0b7",null),u=c.exports},7290:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-box"},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"视频",name:"first"}},[a("main",[a("el-popover",{ref:"popoverRef",attrs:{placement:"bottom",width:"700",trigger:"click","popper-class":"video-popover"}},[a("span",{staticClass:"type-btn",attrs:{slot:"reference"},slot:"reference"},[a("span",{directives:[{name:"show",rawName:"v-show",value:""===t.tag,expression:"tag === ''"}]},[t._v("全部视频")]),t._v(" "+t._s(t.tag)+" "),a("svg",{staticClass:"icon icon-arrow",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-arrowright"}})])]),a("div",{staticStyle:{"border-bottom":"1px solid #ccc","margin-bottom":"25px"}},[a("span",{class:{"all-playlist":!0,selected:""===t.tag},on:{click:t.getAllVideos}},[t._v("全部视频")])]),a("div",{staticClass:"group-box"},[a("div",{staticClass:"tag"},[t._l(t.group,(function(e,r){return a("div",{key:r,staticClass:"span-box"},[a("span",{class:{selected:t.id===e.id},on:{click:function(a){return t.videoId(e)}}},[t._v(t._s(e.name))])])})),a("div",{staticClass:"slot-div"})],2)])]),a("div",{staticClass:"type-box gray"},t._l(t.category,(function(e,r){return a("span",{key:r,class:{selected:t.id===e.id},on:{click:function(a){return t.videoId(e)}}},[t._v(t._s(e.name))])})),0)],1),a("footer",[a("div",{staticClass:"video-wrap"},t._l(t.videos,(function(e,r){return a("Video",{key:r,staticClass:"video",attrs:{count:e.data.playTime,duration:e.data.durationms,url:e.data.coverUrl+"?params=540y300",name:e.data.title},nativeOn:{click:function(a){return t.common.toVideoPlayer(e.data.vid)}},scopedSlots:t._u([{key:"author",fn:function(){return[a("div",{staticClass:"hidden-1"},[a("span",{staticClass:"pointer deep-gray"},[t._v(t._s(e.data.creator.nickname))])])]},proxy:!0}],null,!0)})})),1)])]),a("el-tab-pane",{attrs:{label:"MV",name:"second"}},[a("div",{staticClass:"tittle-box"},[a("header",[a("div",{staticClass:"pointer font-18 bold"},[t._v(" 最新MV "),a("span",[a("svg",{staticClass:"icon icon-arrow",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-arrowright"}})])])]),a("div",{staticClass:"area-box gray"},[a("span",{class:{selected:1===t.areaIndex},attrs:{"v-model":t.area},on:{click:function(e){return t.areaSelected(1,"内地")}}},[t._v("内地")]),a("span",{class:{selected:2===t.areaIndex},on:{click:function(e){return t.areaSelected(2,"港台")}}},[t._v("港台")]),a("span",{class:{selected:3===t.areaIndex},on:{click:function(e){return t.areaSelected(3,"欧美")}}},[t._v("欧美")]),a("span",{class:{selected:4===t.areaIndex},on:{click:function(e){return t.areaSelected(4,"日本")}}},[t._v("日本")]),a("span",{class:{selected:5===t.areaIndex},on:{click:function(e){return t.areaSelected(5,"韩国")}}},[t._v("韩国")])])]),a("footer",[a("div",{staticClass:"video-wrap"},t._l(t.mv.slice(1,t.mv.length),(function(e,r){return a("Video",{key:r,staticClass:"video",attrs:{count:e.playCount,url:e.cover,name:e.name},nativeOn:{click:function(a){return t.common.toVideoPlayer(e.id)}},scopedSlots:t._u([{key:"author",fn:function(){return[a("div",{staticClass:"hidden-1"},t._l(e.artists,(function(e,r){return a("span",{key:r,staticClass:"artist-list"},[a("span",{staticClass:"pointer deep-gray",on:{click:function(a){return a.stopPropagation(),t.common.toArtist(e.id)}}},[t._v(t._s(e.name))])])})),0)]},proxy:!0}],null,!0)})})),1)])])])],1)],1)},n=[],i=a(6198),s=(a(8975),a(9653),a(8309),a(3242)),o=a(898),c={components:{Video:s.Z},data:function(){return{activeName:"first",areaIndex:1,mv:[],area:"",group:[],category:[],id:"",tag:"",videos:[]}},created:function(){this.getNewMv(),this.getVideoGroup(),this.getVideoCategory(),this.getAllVideos(),void 0!==this.$route.query.id&&(this.id=Number(this.$route.query.id),this.tag=this.$route.query.tag)},mounted:function(){},watch:{id:function(){this.getVideos()}},methods:{getVideoGroup:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/video/group/list");case 2:a=e.sent,r=a.data,t.group=r.data;case 5:case"end":return e.stop()}}),e)})))()},getVideoCategory:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/video/category/list");case 2:a=e.sent,r=a.data,t.category=r.data;case 5:case"end":return e.stop()}}),e)})))()},getVideos:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/video/group",{params:{id:t.id}});case 2:a=e.sent,r=a.data,t.videos=r.datas,t.$refs.popoverRef.doClose();case 6:case"end":return e.stop()}}),e)})))()},videoId:function(t){this.id=t.id,this.tag=t.name},getAllVideos:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/video/timeline/all");case 2:a=e.sent,r=a.data,t.videos=r.datas,void 0===t.$route.query.id&&(t.tag=""),t.$refs.popoverRef.doClose();case 7:case"end":return e.stop()}}),e)})))()},getNewMv:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.VZ)({limit:31,area:t.area});case 2:a=e.sent,t.mv=a.data;case 4:case"end":return e.stop()}}),e)})))()},areaSelected:function(t,e){this.areaIndex=t,this.area=e,this.getNewMv()}}},u=c,d=a(1001),l=(0,d.Z)(u,r,n,!1,null,"663cb3a6",null),v=l.exports}}]);
//# sourceMappingURL=290-legacy.c52f1958.js.map